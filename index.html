<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FootballZone - Premium Football Accessories</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/js/all.min.js"></script>
    <script src="api-client.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #19649B;
            --secondary-color: #6CBEE8;
            --accent-color: #F5A9B8;
            --dark-color: #2c3e50;
            --light-color: #ecf0f1;
            --white: #ffffff;
            --gray: #95a5a6;
            --success: #27ae60;
            --danger: #e74c3c;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: var(--dark-color);
            overflow-x: hidden;
        }

        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            padding: 1rem 0;
            position: fixed;
            width: 100%;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-bottom: 1px solid rgba(255, 255, 255, 0.15);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            max-width: 1200px;
            border-bottom: 2px solid #F5A9B8;
            margin: 0 auto;
            padding: 2 2rem;
        }

        .logo {
            font-size: 1.6rem;
            font-weight: bold;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-right: 25px;

        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: var(--white);
            text-decoration: none;
            transition: color 0.3s;
            font-weight: 500;
        }

        .nav-links a:hover {
            color: var(--accent-color);
        }

        .nav-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .search-bar {
            display: flex;
            background: var(--white);
            border-radius: 25px;
            overflow: hidden;
            width: 260px;
        }

        .search-bar input {
            border: none;
            padding: 0.7rem 1rem;
            flex: 1;
            outline: none;
        }

        .search-bar button {
            background: var(--accent-color);
            border: none;
            padding: 0.7rem 1rem;
            color: var(--white);
            cursor: pointer;
            transition: background 0.3s;
        }

        .search-bar button:hover {
            background: #F5A9B8;
        }

        .cart-icon {
            position: relative;
            color: var(--white);
            font-size: 1.5rem;
            cursor: pointer;
            transition: color 0.3s;
        }

        .cart-icon:hover {
            color: var(--accent-color);
        }

        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: var(--danger);
            color: var(--white);
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
        }

        .auth-buttons button {
            background: transparent;
            border: 2px solid var(--white);
            color: var(--white);
            padding: 0.3rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.3s;
            margin-left: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .auth-buttons button:hover {
            background: var(--white);
            color: var(--primary-color);
        }

        main {
            margin-top: 80px;
        }

        .hero {
            background: linear-gradient(RGB(25, 100, 155), RGB(108, 190, 232)), url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 600"><rect width="1200" height="600" fill="%23228B22"/><circle cx="600" cy="300" r="80" fill="%23ffffff" opacity="0.1"/><rect x="520" y="220" width="160" height="160" fill="none" stroke="%23ffffff" stroke-width="2" opacity="0.2"/></svg>');
            height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: var(--white);
            background-size: cover;
            background-position: center;
        }

        .hero-content h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero-content p {
            font-size: 1.3rem;
            margin-bottom: 2rem;
            max-width: 600px;
            
        }

        .cta-button {
            background: var(--accent-color);
            color: var(--white);
            padding: 1rem 2rem;
            border: none;
            border-radius: 30px;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            font-weight: bold;
            letter-spacing: 1px;
        }

        .cta-button:hover {
            background: #F5A9B8;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(112, 6, 80, 0.3);
        }

        /* Categories Section */
        .categories {
            padding: 4rem 0;
            background: var(--light-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .section-title {
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 3rem;
            color: var(--dark-color);
        }

        .category-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .category-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
        }

        .category-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .category-card-image {
            height: 200px;
            background: linear-gradient(45deg, var(--primary-color), var(--secondary-color));
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3rem;
            color: var(--white);
        }

        .category-card-content {
            padding: 1.5rem;
            text-align: center;
            
        }

        .category-card-style {
            text-decoration: none;
            color: inherit;
            cursor: pointer;
        }

        .category-card h3 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
            color: var(--dark-color);
        }

        .category-card p {
            color: var(--gray);
            font-size: 0.9rem;
        }

        .products {
            padding: 4rem 0;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .product-card {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            transition: all 0.3s;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
        }

        .product-image {
            height: 200px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--white);
            font-size: 2rem;
            position: relative;
        }

        .product-badge {
            position: absolute;
            top: 10px;
            right: 10px;
            background: var(--danger);
            color: var(--white);
            padding: 0.3rem 0.7rem;
            border-radius: 15px;
            font-size: 0.8rem;
        }

        .product-content {
            padding: 1.5rem;
        }

        .product-title {
            font-size: 1.1rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--dark-color);
        }

        .product-price {
            font-size: 1.3rem;
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }

        .product-rating {
            display: flex;
            align-items: center;
            margin-bottom: 1rem;
            gap: 0.5rem;
        }

        .stars {
            color: var(--accent-color);
        }

        .add-to-cart {
            width: 100%;
            background: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 0.8rem;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
        }

        .add-to-cart:hover {
            background: var(--secondary-color);
            transform: translateY(-1px);
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            background-color: var(--white);
            margin: 5% auto;
            padding: 2rem;
            border-radius: 15px;
            width: 90%;
            max-width: 400px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-50px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .close {
            color: var(--gray);
            float: right;
            font-size: 1.5rem;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s;
        }

        .close:hover {
            color: var(--danger);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 500;
            color: var(--dark-color);
        }

        .form-group input {
            width: 100%;
            padding: 0.8rem;
            border: 2px solid var(--light-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s;
        }

        .form-group input:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .form-button {
            width: 100%;
            background: var(--primary-color);
            color: var(--white);
            border: none;
            padding: 1rem;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: background 0.3s;
            font-weight: bold;
        }

        .form-button:hover {
            background: var(--secondary-color);
        }

        .form-switch {
            text-align: center;
            margin-top: 1rem;
            color: var(--gray);
        }

        .form-switch a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: bold;
        }

        /* AI Chatbot */
        .chatbot-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1500;
        }

        .chatbot-toggle {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 1.5rem;
            cursor: pointer;
            box-shadow: 0 4px 20px rgba(0,0,0,0.2);
            transition: all 0.3s;
        }

        .chatbot-toggle:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 25px rgba(0,0,0,0.3);
        }

        .chatbot-window {
            display: none;
            position: absolute;
            bottom: 70px;
            right: 0;
            width: 350px;
            height: 450px;
            background: var(--white);
            border-radius: 15px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            overflow: hidden;
        }

        .chatbot-header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: var(--white);
            padding: 1rem;
            text-align: center;
            font-weight: bold;
        }

        .chatbot-messages {
            height: 300px;
            overflow-y: auto;
            padding: 1rem;
            background: #f8f9fa;
        }

        .message {
            margin-bottom: 1rem;
            padding: 0.8rem;
            border-radius: 10px;
            max-width: 80%;
            animation: messageSlideIn 0.3s ease-out;
        }

        @keyframes messageSlideIn {
            from {
                transform: translateX(-20px);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        .bot-message {
            background: var(--light-color);
            margin-right: auto;
        }

        .user-message {
            background: var(--primary-color);
            color: var(--white);
            margin-left: auto;
        }

        .chatbot-input {
            display: flex;
            padding: 1rem;
            background: var(--white);
            border-top: 1px solid var(--light-color);
        }

        .chatbot-input input {
            flex: 1;
            border: 1px solid var(--light-color);
            border-radius: 20px;
            padding: 0.5rem 1rem;
            outline: none;
        }

        .chatbot-input button {
            background: var(--primary-color);
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            margin-left: 0.5rem;
            cursor: pointer;
            transition: background 0.3s;
        }

        .chatbot-input button:hover {
            background: var(--secondary-color);
        }

        /* User Dashboard */
        .user-info {
            background: var(--light-color);
            padding: 1rem 2rem;
            display: none;
            align-items: center;
            justify-content: space-between;
        }

        .user-welcome {
            font-weight: bold;
            color: var(--primary-color);
        }

        .logout-btn {
            background: var(--danger);
            color: var(--white);
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .logout-btn:hover {
            background: #c0392b;
        }

        /* Footer */
        footer {
            background: var(--dark-color);
            color: var(--white);
            padding: 3rem 0;
            text-align: center;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--secondary-color);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section ul li a {
            color: var(--white);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-section ul li a:hover {
            color: var(--accent-color);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .search-bar {
                width: 200px;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .category-grid,
            .product-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }

            .chatbot-window {
                width: 300px;
            }
        }

        /* Loading Animation */
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: var(--white);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo" id="logoo">
                <i class="fas fa-futbol"></i>
                FootballZone
            </div>
            <ul class="nav-links">
                <li><a href="#home">Home</a></li>
                <li><a href="#categories">Categories</a></li>
                <li><a href="#products">Products</a></li>
                <li><a href="#about">About</a></li>
                <li><a href="#contact">Contact</a></li>
            </ul>
            <div class="nav-actions">
                <div class="search-bar">
                    <input type="text" placeholder="Search football gear..." id="searchInput">
                    <button type="button" onclick="searchProducts()">
                        <i class="fas fa-search"></i>
                    </button>
                </div>
                <div class="cart-icon" onclick="toggleCart()">
                    <i class="fas fa-shopping-cart"></i>
                    <span class="cart-count" id="cartCount">0</span>
                </div>
                <div class="auth-buttons" id="authButtons">
                    <button onclick="openLoginModal()">Login</button>
                    <button onclick="openSignupModal()">Sign Up</button>
                </div>
            </div>
        </nav>
    </header>

    <div class="user-info" id="userInfo">
        <span class="user-welcome" id="userWelcome"></span>
        <button class="logout-btn" onclick="logout()">Logout</button>
    </div>

    <main>
        <section id="home" class="hero">
            <div class="hero-content">
                <h1>Welcome to FootballZone</h1>
                <p>Discover premium football accessories, boots, jerseys, and gear from top clubs worldwide. Your ultimate destination for football passion!</p>
                <button class="cta-button" onclick="scrollToSection('categories')">Shop Now</button>
            </div>
        </section>

        <section id="categories" class="categories">
            <div class="container">
                <h2 class="section-title">Shop by Category</h2>
                <div class="category-grid">
                    <div class="category-card" onclick="filterProducts('boots')">
                        <div class="category-card-image">
                            <i class="fas fa-shoe-prints"></i>
                        </div>
                        <div class="category-card-content">
                            <h3>Football Boots</h3>
                            <p>Professional boots for every playing surface</p>
                        </div>
                    </div>
                    <div class="category-card" onclick="filterProducts('jerseys')">
                        <div class="category-card-image">
                            <i class="fas fa-tshirt"></i>
                        </div>
                        <a href="jerseypage.html" class="category-card-style">
                        <div class="category-card-content">
                            <h3>Jerseys</h3>
                            <p>Official club jerseys and training wear</p>
                        </div>
                        </a>
                    </div>
                    <div class="category-card" onclick="filterProducts('accessories')">
                        <div class="category-card-image">
                            <i class="fas fa-key"></i>
                        </div>
                        <div class="category-card-content">
                            <h3>Accessories</h3>
                            <p>Keychains, pins, and collectibles</p>
                        </div>
                    </div>
                    <div class="category-card" onclick="filterProducts('bags')">
                        <div class="category-card-image">
                            <i class="fas fa-shopping-bag"></i>
                        </div>
                        <div class="category-card-content">
                            <h3>Bags</h3>
                            <p>Sports bags and equipment carriers</p>
                        </div>
                    </div>
                    <div class="category-card" onclick="filterProducts('flags')">
                        <div class="category-card-image">
                            <i class="fas fa-flag"></i>
                        </div>
                        <div class="category-card-content">
                            <h3>Flags</h3>
                            <p>Club flags and banners for supporters</p>
                        </div>
                    </div>
                    <div class="category-card" onclick="filterProducts('equipment')">
                        <div class="category-card-image">
                            <i class="fas fa-futbol"></i>
                        </div>
                        <div class="category-card-content">
                            <h3>Equipment</h3>
                            <p>Balls, gloves, and training equipment</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="products" class="products">
            <div class="container">
                <h2 class="section-title">Featured Products</h2>
                <div class="product-grid" id="productGrid">
                    <!-- Products will be dynamically loaded here -->
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About FootballZone</h3>
                <p>Your premier destination for authentic football accessories, boots, jerseys, and gear from top clubs worldwide.</p>
            </div>
            <div class="footer-section">
                <h3>Quick Links</h3>
                <ul>
                    <li><a href="#home">Home</a></li>
                    <li><a href="#categories">Categories</a></li>
                    <li><a href="#products">Products</a></li>
                    <li><a href="#about">About Us</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Customer Service</h3>
                <ul>
                    <li><a href="#">Contact Us</a></li>
                    <li><a href="#">Shipping Info</a></li>
                    <li><a href="#">Returns</a></li>
                    <li><a href="#">Size Guide</a></li>
                </ul>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <div style="display: flex; gap: 1rem; justify-content: center; margin-top: 1rem;">
                    <i class="fab fa-facebook" style="font-size: 1.5rem; cursor: pointer; transition: color 0.3s;" onmouseover="this.style.color='#3b5998'" onmouseout="this.style.color='white'"></i>
                    <i class="fab fa-twitter" style="font-size: 1.5rem; cursor: pointer; transition: color 0.3s;" onmouseover="this.style.color='#1da1f2'" onmouseout="this.style.color='white'"></i>
                    <i class="fab fa-instagram" style="font-size: 1.5rem; cursor: pointer; transition: color 0.3s;" onmouseover="this.style.color='#e4405f'" onmouseout="this.style.color='white'"></i>
                </div>
            </div>
        </div>
        <div style="text-align: center; margin-top: 2rem; padding-top: 2rem; border-top: 1px solid #34495e;">
            <p>&copy; 2025 FootballZone. All rights reserved. Built with ❤️ for football fans worldwide.</p>
        </div>
    </footer>

    <!-- Login Modal -->
    <div id="loginModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('loginModal')">&times;</span>
            <h2 style="margin-bottom: 1.5rem; color: var(--primary-color); text-align: center;">Login</h2>
            <form id="loginForm" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="loginEmail">Email:</label>
                    <input type="email" id="loginEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="loginPassword">Password:</label>
                    <input type="password" id="loginPassword" name="password" required>
                </div>
                <button type="submit" class="form-button">Login</button>
            </form>
            <div class="form-switch">
                Don't have an account? <a href="#" onclick="switchToSignup()">Sign up here</a>
            </div>
        </div>
    </div>

    <!-- Signup Modal -->
    <div id="signupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('signupModal')">&times;</span>
            <h2 style="margin-bottom: 1.5rem; color: var(--primary-color); text-align: center;">Sign Up</h2>
            <form id="signupForm" onsubmit="handleSignup(event)">
                <div class="form-group">
                    <label for="signupName">Full Name:</label>
                    <input type="text" id="signupName" name="name" required>
                </div>
                <div class="form-group">
                    <label for="signupEmail">Email:</label>
                    <input type="email" id="signupEmail" name="email" required>
                </div>
                <div class="form-group">
                    <label for="signupPassword">Password:</label>
                    <input type="password" id="signupPassword" name="password" required minlength="6">
                </div>
                <div class="form-group">
                    <label for="confirmPassword">Confirm Password:</label>
                    <input type="password" id="confirmPassword" name="confirmPassword" required>
                </div>
                <button type="submit" class="form-button">Sign Up</button>
            </form>
            <div class="form-switch">
                Already have an account? <a href="#" onclick="switchToLogin()">Login here</a>
            </div>
        </div>
    </div>

    <!-- AI Chatbot -->
    <div class="chatbot-container">
        <div class="chatbot-window" id="chatbotWindow">
            <div class="chatbot-header">
                <i class="fas fa-robot"></i> Football Assistant
            </div>
            <div class="chatbot-messages" id="chatbotMessages">
                <div class="message bot-message">
                    Hi! I'm your football gear assistant. How can I help you find the perfect products today? ⚽
                </div>
            </div>
            <div class="chatbot-input">
                <input type="text" id="chatInput" placeholder="Ask me about football gear..." onkeypress="handleChatKeyPress(event)">
                <button onclick="sendMessage()">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
        <button type="button" class="chatbot-toggle" onclick="toggleChatbot()">
            <i class="fas fa-robot"></i>
        </button>
    </div>

    <script>
        

        // AI Chatbot responses
        const chatbotResponses = {
            greetings: [
                "Hello! How can I help you find the perfect football gear today?",
                "Hi there! I'm here to help you discover amazing football accessories!",
                "Welcome to FootballZone! What football gear are you looking for?"
            ],
            boots: [
                "Great choice! We have professional boots from Nike, Adidas, and Puma. Are you looking for firm ground, soft ground, or artificial grass boots?",
                "Football boots are essential! Our top sellers include Nike Mercurial and Puma Future series. What's your budget range?",
                "Perfect! I can help you find the right boots. What position do you play? Different positions benefit from different boot technologies."
            ],
            jerseys: [
                "Awesome! We have official jerseys from all major clubs. Which team are you supporting? Real Madrid, Barcelona, Manchester United, or others?",
                "Jersey shopping is exciting! Are you looking for home, away, or third kits? We also have retro jerseys available!",
                "Great choice! Our jerseys are 100% authentic. Which league interests you most - Premier League, La Liga, or Serie A?"
            ],
            accessories: [
                "We have amazing accessories! Keychains, pins, scarves, and more. Are you collecting for a specific club?",
                "Perfect! Football accessories make great gifts. Are you looking for something for yourself or as a present?",
                "Excellent! Our accessories range from keychains to collector items. What type of accessory interests you most?"
            ],
            price: [
                "Our prices are very competitive! Boots range from $99-$299, jerseys $69-$99, and accessories $9-$49. What's your budget?",
                "Great question! We have options for every budget. Premium items offer the best quality, while our value range is perfect for casual fans.",
                "We offer competitive pricing with regular sales! Sign up for our newsletter to get exclusive discount codes."
            ],
            shipping: [
                "We offer free shipping on orders over $75! Standard delivery takes 3-5 business days, express is 1-2 days.",
                "Shipping is fast and secure! We use tracked delivery and offer free returns within 30 days.",
                "Great question! We ship worldwide with tracking. Domestic orders usually arrive within 3-5 business days."
            ],
            size: [
                "Size is important! We have a comprehensive size guide for all products. For boots, I recommend checking both US and EU sizes.",
                "Perfect question! Our size guide covers all brands. If you're unsure, I suggest going half a size up for boots.",
                "Size matters! We offer exchanges if the fit isn't perfect. Check our detailed size charts for each product."
            ],
            default: [
                "I'm here to help you find the perfect football gear! Try asking about boots, jerseys, accessories, prices, or shipping.",
                "That's interesting! How about I help you explore our amazing football collection? What catches your eye?",
                "I'd love to help! Feel free to ask about any football gear, club merchandise, or if you need recommendations based on your favorite team!"
            ]
        };
    document.addEventListener('DOMContentLoaded', async function() {
        console.log('Page loaded, initializing...');
        
        // Check authentication
        await checkAuthStatus();
        
        // Load products
        console.log('Loading products...');
        await loadProducts();
        
        // Update cart
        await updateCartCount();
    });

    async function loadProducts(filter = null) {
        try {
            console.log('Fetching products from API...');
            const productGrid = document.getElementById('productGrid');
            
            if (!productGrid) {
                console.error('Product grid element not found!');
                return;
            }
            
            productGrid.innerHTML = '<div style="text-align: center; padding: 2rem;">Loading...</div>';
            
            let response;
            if (filter) {
                const categoryIds = {
                    'boots': 1, 'jerseys': 2, 'accessories': 3,
                    'bags': 4, 'flags': 5, 'equipment': 6
                };
                response = await api.getProductsByCategory(categoryIds[filter] || 1);
            } else {
                response = await api.getAllProducts();
            }
            
            console.log('API Response:', response);
            
            if (!response.products || response.products.length === 0) {
                productGrid.innerHTML = '<div style="text-align: center; padding: 2rem;">No products found</div>';
                return;
            }
            
            console.log('Displaying', response.products.length, 'products');
            
            productGrid.innerHTML = response.products.map(product => `
                <div class="product-card">
                    <div class="product-image">
                        <span style="font-size: 3rem;">⚽</span>
                        ${product.badge ? `<div class="product-badge">${product.badge}</div>` : ''}
                    </div>
                    <div class="product-content">
                        <div class="product-title">${product.product_name}</div>
                        <div class="product-price">$${product.price}</div>
                        <div class="product-rating">
                            <div class="stars">★★★★★</div>
                            <span>(${product.rating || 0})</span>
                        </div>
                        <button class="add-to-cart" onclick="addToCart(${product.product_id})">
                            Add to Cart
                        </button>
                    </div>
                </div>
            `).join('');
            
        } catch (error) {
            console.error('Load products error:', error);
            document.getElementById('productGrid').innerHTML = 
                `<div style="text-align: center; padding: 2rem; color: red;">
                    Error: ${error.message}<br>
                    Make sure server is running: node server.js
                </div>`;
        }
    }
</script>
</body>
</html>
